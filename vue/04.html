<meta charset="utf-8">
<script src="vue.js"></script>

<!--
<div id="example">
  a={{ a }}, b={{ b }}
</div>


<script type="text/javascript">
  var vm = new Vue({
    el: '#example',
    data: {
      a: 1
    },
    computed: {
      // 一个计算属性的 getter
      b: function () {
        // `this` 指向 vm 实例
        return this.a + 1
      }
    }
  });

  console.log(vm.b); // -> 2
  vm.a = 2;
  console.log(vm); // -> 3
</script>-->


<div id="demo">
  {{fullName}}
  <br>
  {{firstName}}
  <br>
  {{lastName}}
</div>
<script>
  /*var vm = new Vue({
    el: '#demo',
    data: {
      firstName: 'Foo',
      lastName: 'Bar',
      fullName: 'Foo Bar'
    }
  })

  vm.$watch('firstName', function (val) {
    this.fullName = val + ' ' + this.lastName
  })

  vm.$watch('lastName', function (val) {
    this.fullName = this.firstName + ' ' + val
  })*/

  var vm = new Vue({
    el: '#demo',
    data: {
      firstName: 'Foo',
      lastName: 'Bar'
    },
    computed: {
//      fullName: function () {
//        return this.firstName + ' ' + this.lastName
//      }

      fullName: {
        // getter
        get: function () {
          return this.firstName + ' ' + this.lastName
        },
        // setter
        set: function (newValue) {
          alert(newValue);
          var names = newValue.split(' ')
          this.firstName = names[0]
          this.lastName = names[names.length - 1]
        }
      }
    }
  })

  vm.fullName = 'John Doe';
</script>